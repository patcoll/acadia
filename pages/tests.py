__test__ = {'NAVIGATION_TESTS': """

Make sure breadcrumb navigation renders correctly.

    >>> from django.core import management
    >>> management.call_command('loaddata', 'initial_data.xml', verbosity=0)
    >>> import os.path
    >>> from pages import settings
    >>> from pages.templatetags.menu import MenuNode
    >>> from pages.models import Page
    >>> from django.template.context import Context
    >>> MenuNode()
    Traceback (most recent call last):
    ...
    TypeError: __init__() takes at least 2 arguments (1 given)
    >>> mn = MenuNode(mode="breadcrumb", xml_file=os.path.join(settings.CURDIR, "fixtures", "menus.xml"))
    >>> c = Context(dict(nav_node=Page.objects.get(id=3)))
    >>> mn.render(c)
    '<div id="breadcrumb"><ol><li class="homepagelistitem currentpathlistitem" id="home_pages_page_1"><a class="homepage currentpath" href="/1/home/">Home</a></li><li class="sectionlistitem currentpathlistitem currentsectionlistitem" id="vestibulum-leo_pages_page_2"><a class="section currentpath currentsection" href="/2/vestibulum-leo/">Vestibulum Leo</a></li><li class="currentpathlistitem currentpagelistitem" id="fermentum-viverra_pages_page_3"><a class="currentpath currentpage" href="/3/fermentum-viverra/">Fermentum Viverra</a></li></ol></div>'
    >>> c = Context(dict(nav_node=Page.objects.get(id=2)))
    >>> mn.render(c)
    '<div id="breadcrumb"><ol><li class="homepagelistitem currentpathlistitem" id="home_pages_page_1"><a class="homepage currentpath" href="/1/home/">Home</a></li><li class="sectionlistitem currentpathlistitem currentsectionlistitem currentpagelistitem" id="vestibulum-leo_pages_page_2"><a class="section currentpath currentsection currentpage" href="/2/vestibulum-leo/">Vestibulum Leo</a></li></ol></div>'

Home page breadcrumb should be empty.

    >>> c = Context(dict(nav_node=Page.objects.get(id=1)))
    >>> mn.render(c)
    ''

Test two-level navigation rendering.

    >>> mn.mode = "two_level"
    >>> c = Context(dict(nav_node=Page.objects.get(id=3)))
    >>> mn.render(c)
    '<div id="two_level"><ul class="main"><li class="sectionlistitem currentpathlistitem currentsectionlistitem" id="vestibulum-leo_pages_page_2"><a class="section currentpath currentsection" href="/2/vestibulum-leo/">Vestibulum Leo</a></li><li class="sectionlistitem" id="vivamus-gravida-dignissim_pages_page_20"><a class="section" href="/20/vivamus-gravida-dignissim/">Vivamus-Gravida Dignissim</a></li><li class="sectionlistitem" id="maecenas-quis_pages_page_37"><a class="section" href="/37/maecenas-quis/">Maecenas Quis</a></li></ul><div id="two_level_vestibulum-leo_menu"><ul><li class="currentpathlistitem currentpagelistitem" id="fermentum-viverra_pages_page_3"><a class="currentpath currentpage" href="/3/fermentum-viverra/">Fermentum Viverra</a></li><li id="mauris_pages_page_8"><a href="/8/mauris/">Mauris</a></li><li id="quisque-pretium_pages_page_12"><a href="/12/quisque-pretium/">Quisque Pretium</a></li><li id="nulla-quam-sem_pages_page_16"><a href="/16/nulla-quam-sem/">Nulla Quam Sem</a></li><li id="nunc-at-hendrerit-erat_pages_page_17"><a href="/17/nunc-at-hendrerit-erat/">Nunc at Hendrerit Erat</a></li><li id="maecenas-dapibus_pages_page_18"><a href="/18/maecenas-dapibus/">Maecenas Dapibus</a></li><li id="pellentesque-nibh_pages_page_19"><a href="/19/pellentesque-nibh/">Pellentesque Nibh</a></li></ul></div><div id="two_level_vivamus-gravida-dignissim_menu"><ul><li id="curabitur-feugiat_pages_page_21"><a href="/21/curabitur-feugiat/">Curabitur Feugiat</a></li><li id="congue-vel_pages_page_27"><a href="/27/congue-vel/">Congue Vel</a></li><li id="phasellus_pages_page_30"><a href="/30/phasellus/">Phasellus</a></li><li id="porttitor-et-interdum_pages_page_35"><a href="/35/porttitor-et-interdum/">Porttitor Et Interdum</a></li></ul></div><div id="two_level_maecenas-quis_menu"><ul><li id="nulla-commodo-nisl_pages_page_38"><a href="/38/nulla-commodo-nisl/">Nulla Commodo Nisl</a></li><li id="accumsan-vulputate_pages_page_39"><a href="/39/accumsan-vulputate/">Accumsan Vulputate</a></li><li id="lobortis-rhoncus_pages_page_40"><a href="/40/lobortis-rhoncus/">Lobortis Rhoncus</a></li><li id="purus-ut-gravida-iaculis_pages_page_41"><a href="/41/purus-ut-gravida-iaculis/">Purus Ut Gravida Iaculis</a></li><li id="hendrerit_pages_page_42"><a href="/42/hendrerit/">Hendrerit</a></li></ul></div></div>'
    >>> c = Context(dict(nav_node=Page.objects.get(id=2)))
    >>> mn.render(c)
    '<div id="two_level"><ul class="main"><li class="sectionlistitem currentpathlistitem currentsectionlistitem currentpagelistitem" id="vestibulum-leo_pages_page_2"><a class="section currentpath currentsection currentpage" href="/2/vestibulum-leo/">Vestibulum Leo</a></li><li class="sectionlistitem" id="vivamus-gravida-dignissim_pages_page_20"><a class="section" href="/20/vivamus-gravida-dignissim/">Vivamus-Gravida Dignissim</a></li><li class="sectionlistitem" id="maecenas-quis_pages_page_37"><a class="section" href="/37/maecenas-quis/">Maecenas Quis</a></li></ul><div id="two_level_vestibulum-leo_menu"><ul><li id="fermentum-viverra_pages_page_3"><a href="/3/fermentum-viverra/">Fermentum Viverra</a></li><li id="mauris_pages_page_8"><a href="/8/mauris/">Mauris</a></li><li id="quisque-pretium_pages_page_12"><a href="/12/quisque-pretium/">Quisque Pretium</a></li><li id="nulla-quam-sem_pages_page_16"><a href="/16/nulla-quam-sem/">Nulla Quam Sem</a></li><li id="nunc-at-hendrerit-erat_pages_page_17"><a href="/17/nunc-at-hendrerit-erat/">Nunc at Hendrerit Erat</a></li><li id="maecenas-dapibus_pages_page_18"><a href="/18/maecenas-dapibus/">Maecenas Dapibus</a></li><li id="pellentesque-nibh_pages_page_19"><a href="/19/pellentesque-nibh/">Pellentesque Nibh</a></li></ul></div><div id="two_level_vivamus-gravida-dignissim_menu"><ul><li id="curabitur-feugiat_pages_page_21"><a href="/21/curabitur-feugiat/">Curabitur Feugiat</a></li><li id="congue-vel_pages_page_27"><a href="/27/congue-vel/">Congue Vel</a></li><li id="phasellus_pages_page_30"><a href="/30/phasellus/">Phasellus</a></li><li id="porttitor-et-interdum_pages_page_35"><a href="/35/porttitor-et-interdum/">Porttitor Et Interdum</a></li></ul></div><div id="two_level_maecenas-quis_menu"><ul><li id="nulla-commodo-nisl_pages_page_38"><a href="/38/nulla-commodo-nisl/">Nulla Commodo Nisl</a></li><li id="accumsan-vulputate_pages_page_39"><a href="/39/accumsan-vulputate/">Accumsan Vulputate</a></li><li id="lobortis-rhoncus_pages_page_40"><a href="/40/lobortis-rhoncus/">Lobortis Rhoncus</a></li><li id="purus-ut-gravida-iaculis_pages_page_41"><a href="/41/purus-ut-gravida-iaculis/">Purus Ut Gravida Iaculis</a></li><li id="hendrerit_pages_page_42"><a href="/42/hendrerit/">Hendrerit</a></li></ul></div></div>'
    >>> c = Context(dict(nav_node=Page.objects.get(id=1)))
    >>> mn.render(c)
    '<div id="two_level"><ul class="main"><li class="sectionlistitem" id="vestibulum-leo_pages_page_2"><a class="section" href="/2/vestibulum-leo/">Vestibulum Leo</a></li><li class="sectionlistitem" id="vivamus-gravida-dignissim_pages_page_20"><a class="section" href="/20/vivamus-gravida-dignissim/">Vivamus-Gravida Dignissim</a></li><li class="sectionlistitem" id="maecenas-quis_pages_page_37"><a class="section" href="/37/maecenas-quis/">Maecenas Quis</a></li></ul><div id="two_level_vestibulum-leo_menu"><ul><li id="fermentum-viverra_pages_page_3"><a href="/3/fermentum-viverra/">Fermentum Viverra</a></li><li id="mauris_pages_page_8"><a href="/8/mauris/">Mauris</a></li><li id="quisque-pretium_pages_page_12"><a href="/12/quisque-pretium/">Quisque Pretium</a></li><li id="nulla-quam-sem_pages_page_16"><a href="/16/nulla-quam-sem/">Nulla Quam Sem</a></li><li id="nunc-at-hendrerit-erat_pages_page_17"><a href="/17/nunc-at-hendrerit-erat/">Nunc at Hendrerit Erat</a></li><li id="maecenas-dapibus_pages_page_18"><a href="/18/maecenas-dapibus/">Maecenas Dapibus</a></li><li id="pellentesque-nibh_pages_page_19"><a href="/19/pellentesque-nibh/">Pellentesque Nibh</a></li></ul></div><div id="two_level_vivamus-gravida-dignissim_menu"><ul><li id="curabitur-feugiat_pages_page_21"><a href="/21/curabitur-feugiat/">Curabitur Feugiat</a></li><li id="congue-vel_pages_page_27"><a href="/27/congue-vel/">Congue Vel</a></li><li id="phasellus_pages_page_30"><a href="/30/phasellus/">Phasellus</a></li><li id="porttitor-et-interdum_pages_page_35"><a href="/35/porttitor-et-interdum/">Porttitor Et Interdum</a></li></ul></div><div id="two_level_maecenas-quis_menu"><ul><li id="nulla-commodo-nisl_pages_page_38"><a href="/38/nulla-commodo-nisl/">Nulla Commodo Nisl</a></li><li id="accumsan-vulputate_pages_page_39"><a href="/39/accumsan-vulputate/">Accumsan Vulputate</a></li><li id="lobortis-rhoncus_pages_page_40"><a href="/40/lobortis-rhoncus/">Lobortis Rhoncus</a></li><li id="purus-ut-gravida-iaculis_pages_page_41"><a href="/41/purus-ut-gravida-iaculis/">Purus Ut Gravida Iaculis</a></li><li id="hendrerit_pages_page_42"><a href="/42/hendrerit/">Hendrerit</a></li></ul></div></div>'

Test section navigation rendering.

    >>> mn.mode = "section_nav"
    >>> c = Context(dict(nav_node=Page.objects.get(id=14)))
    >>> mn.render(c)
    '<div id="section_nav"><ul><li class="sectionlistitem currentpathlistitem currentsectionlistitem" id="vestibulum-leo_pages_page_2"><a class="section currentpath currentsection" href="/2/vestibulum-leo/">Vestibulum Leo</a><ul><li id="fermentum-viverra_pages_page_3"><a href="/3/fermentum-viverra/">Fermentum Viverra</a></li><li id="mauris_pages_page_8"><a href="/8/mauris/">Mauris</a></li><li class="currentpathlistitem" id="quisque-pretium_pages_page_12"><a class="currentpath" href="/12/quisque-pretium/">Quisque Pretium</a><ul><li id="metus-et-orci_pages_page_13"><a href="/13/metus-et-orci/">Metus Et Orci</a></li><li class="currentpathlistitem currentpagelistitem" id="lacinia-scelerisque_pages_page_14"><a class="currentpath currentpage" href="/14/lacinia-scelerisque/">Lacinia Scelerisque</a></li><li id="nunc-nec-justo_pages_page_15"><a href="/15/nunc-nec-justo/">Nunc Nec Justo</a></li></ul></li><li id="nulla-quam-sem_pages_page_16"><a href="/16/nulla-quam-sem/">Nulla Quam Sem</a></li><li id="nunc-at-hendrerit-erat_pages_page_17"><a href="/17/nunc-at-hendrerit-erat/">Nunc at Hendrerit Erat</a></li><li id="maecenas-dapibus_pages_page_18"><a href="/18/maecenas-dapibus/">Maecenas Dapibus</a></li><li id="pellentesque-nibh_pages_page_19"><a href="/19/pellentesque-nibh/">Pellentesque Nibh</a></li></ul></li></ul></div>'
    >>> c = Context(dict(nav_node=Page.objects.get(id=12)))
    >>> mn.render(c)
    '<div id="section_nav"><ul><li class="sectionlistitem currentpathlistitem currentsectionlistitem" id="vestibulum-leo_pages_page_2"><a class="section currentpath currentsection" href="/2/vestibulum-leo/">Vestibulum Leo</a><ul><li id="fermentum-viverra_pages_page_3"><a href="/3/fermentum-viverra/">Fermentum Viverra</a></li><li id="mauris_pages_page_8"><a href="/8/mauris/">Mauris</a></li><li class="currentpathlistitem currentpagelistitem" id="quisque-pretium_pages_page_12"><a class="currentpath currentpage" href="/12/quisque-pretium/">Quisque Pretium</a><ul><li id="metus-et-orci_pages_page_13"><a href="/13/metus-et-orci/">Metus Et Orci</a></li><li id="lacinia-scelerisque_pages_page_14"><a href="/14/lacinia-scelerisque/">Lacinia Scelerisque</a></li><li id="nunc-nec-justo_pages_page_15"><a href="/15/nunc-nec-justo/">Nunc Nec Justo</a></li></ul></li><li id="nulla-quam-sem_pages_page_16"><a href="/16/nulla-quam-sem/">Nulla Quam Sem</a></li><li id="nunc-at-hendrerit-erat_pages_page_17"><a href="/17/nunc-at-hendrerit-erat/">Nunc at Hendrerit Erat</a></li><li id="maecenas-dapibus_pages_page_18"><a href="/18/maecenas-dapibus/">Maecenas Dapibus</a></li><li id="pellentesque-nibh_pages_page_19"><a href="/19/pellentesque-nibh/">Pellentesque Nibh</a></li></ul></li></ul></div>'
    
Test sitemap navigation rendering.

    >>> mn.mode = "sitemap"
    >>> c = Context(dict(nav_node=Page.objects.get(id=14)))
    >>> mn.render(c)
    '<div id="sitemap"><ul><li class="homepagelistitem currentpathlistitem" id="home_pages_page_1"><a class="homepage currentpath" href="/1/home/">Home</a><ul><li class="sectionlistitem currentpathlistitem currentsectionlistitem" id="vestibulum-leo_pages_page_2"><a class="section currentpath currentsection" href="/2/vestibulum-leo/">Vestibulum Leo</a><ul><li id="fermentum-viverra_pages_page_3"><a href="/3/fermentum-viverra/">Fermentum Viverra</a><ul><li id="aliquam-interdum_pages_page_4"><a href="/4/aliquam-interdum/">Aliquam Interdum</a></li><li id="phasellus-at-nisl_pages_page_5"><a href="/5/phasellus-at-nisl/">Phasellus at Nisl</a></li><li id="duis-faucibus_pages_page_6"><a href="/6/duis-faucibus/">Duis Faucibus</a></li><li id="ornare-ultrices-turpis_pages_page_7"><a href="/7/ornare-ultrices-turpis/">Ornare Ultrices Turpis</a></li></ul></li><li id="mauris_pages_page_8"><a href="/8/mauris/">Mauris</a><ul><li id="sodales-vel-viverra_pages_page_9"><a href="/9/sodales-vel-viverra/">Sodales Vel Viverra</a></li><li id="elementum_pages_page_10"><a href="/10/elementum/">Elementum</a></li><li id="lectus-felis-vel_pages_page_11"><a href="/11/lectus-felis-vel/">Lectus Felis Vel</a></li></ul></li><li class="currentpathlistitem" id="quisque-pretium_pages_page_12"><a class="currentpath" href="/12/quisque-pretium/">Quisque Pretium</a><ul><li id="metus-et-orci_pages_page_13"><a href="/13/metus-et-orci/">Metus Et Orci</a></li><li class="currentpathlistitem currentpagelistitem" id="lacinia-scelerisque_pages_page_14"><a class="currentpath currentpage" href="/14/lacinia-scelerisque/">Lacinia Scelerisque</a></li><li id="nunc-nec-justo_pages_page_15"><a href="/15/nunc-nec-justo/">Nunc Nec Justo</a></li></ul></li><li id="nulla-quam-sem_pages_page_16"><a href="/16/nulla-quam-sem/">Nulla Quam Sem</a></li><li id="nunc-at-hendrerit-erat_pages_page_17"><a href="/17/nunc-at-hendrerit-erat/">Nunc at Hendrerit Erat</a></li><li id="maecenas-dapibus_pages_page_18"><a href="/18/maecenas-dapibus/">Maecenas Dapibus</a></li><li id="pellentesque-nibh_pages_page_19"><a href="/19/pellentesque-nibh/">Pellentesque Nibh</a></li></ul></li><li class="sectionlistitem" id="vivamus-gravida-dignissim_pages_page_20"><a class="section" href="/20/vivamus-gravida-dignissim/">Vivamus-Gravida Dignissim</a><ul><li id="curabitur-feugiat_pages_page_21"><a href="/21/curabitur-feugiat/">Curabitur Feugiat</a><ul><li id="laoreet-sed-pellentesque_pages_page_22"><a href="/22/laoreet-sed-pellentesque/">Laoreet Sed Pellentesque</a></li><li id="donec-tempus_pages_page_23"><a href="/23/donec-tempus/">Donec Tempus</a></li><li id="sollicitudin-sapien_pages_page_24"><a href="/24/sollicitudin-sapien/">Sollicitudin Sapien</a></li><li id="ut-convallis_pages_page_25"><a href="/25/ut-convallis/">Ut Convallis</a></li><li id="habitasse_pages_page_26"><a href="/26/habitasse/">Habitasse</a></li></ul></li><li id="congue-vel_pages_page_27"><a href="/27/congue-vel/">Congue Vel</a><ul><li id="nunc-pulvinar-luctus_pages_page_28"><a href="/28/nunc-pulvinar-luctus/">Nunc Pulvinar Luctus</a></li><li id="habitasse-platea_pages_page_29"><a href="/29/habitasse-platea/">Habitasse Platea</a></li></ul></li><li id="phasellus_pages_page_30"><a href="/30/phasellus/">Phasellus</a><ul><li id="nunc-lacinia-eleifend_pages_page_31"><a href="/31/nunc-lacinia-eleifend/">Nunc Lacinia Eleifend</a></li><li id="consectetur-magna_pages_page_32"><a href="/32/consectetur-magna/">Consectetur Magna</a></li><li id="amet-leo-commodo-mattis_pages_page_33"><a href="/33/amet-leo-commodo-mattis/">Amet Leo Commodo-Mattis</a></li><li id="laoreet-est-cursus_pages_page_34"><a href="/34/laoreet-est-cursus/">Laoreet Est Cursus</a></li></ul></li><li id="porttitor-et-interdum_pages_page_35"><a href="/35/porttitor-et-interdum/">Porttitor Et Interdum</a><ul><li id="fusce-a-purus_pages_page_36"><a href="/36/fusce-a-purus/">Fusce a Purus</a></li></ul></li></ul></li><li class="sectionlistitem" id="maecenas-quis_pages_page_37"><a class="section" href="/37/maecenas-quis/">Maecenas Quis</a><ul><li id="nulla-commodo-nisl_pages_page_38"><a href="/38/nulla-commodo-nisl/">Nulla Commodo Nisl</a></li><li id="accumsan-vulputate_pages_page_39"><a href="/39/accumsan-vulputate/">Accumsan Vulputate</a></li><li id="lobortis-rhoncus_pages_page_40"><a href="/40/lobortis-rhoncus/">Lobortis Rhoncus</a></li><li id="purus-ut-gravida-iaculis_pages_page_41"><a href="/41/purus-ut-gravida-iaculis/">Purus Ut Gravida Iaculis</a></li><li id="hendrerit_pages_page_42"><a href="/42/hendrerit/">Hendrerit</a></li></ul></li></ul></li></ul></div>'
    >>> c = Context(dict(nav_node=Page.objects.get(id=1)))
    >>> mn.render(c)
    '<div id="sitemap"><ul><li class="homepagelistitem currentpathlistitem currentpagelistitem" id="home_pages_page_1"><a class="homepage currentpath currentpage" href="/1/home/">Home</a><ul><li class="sectionlistitem" id="vestibulum-leo_pages_page_2"><a class="section" href="/2/vestibulum-leo/">Vestibulum Leo</a><ul><li id="fermentum-viverra_pages_page_3"><a href="/3/fermentum-viverra/">Fermentum Viverra</a><ul><li id="aliquam-interdum_pages_page_4"><a href="/4/aliquam-interdum/">Aliquam Interdum</a></li><li id="phasellus-at-nisl_pages_page_5"><a href="/5/phasellus-at-nisl/">Phasellus at Nisl</a></li><li id="duis-faucibus_pages_page_6"><a href="/6/duis-faucibus/">Duis Faucibus</a></li><li id="ornare-ultrices-turpis_pages_page_7"><a href="/7/ornare-ultrices-turpis/">Ornare Ultrices Turpis</a></li></ul></li><li id="mauris_pages_page_8"><a href="/8/mauris/">Mauris</a><ul><li id="sodales-vel-viverra_pages_page_9"><a href="/9/sodales-vel-viverra/">Sodales Vel Viverra</a></li><li id="elementum_pages_page_10"><a href="/10/elementum/">Elementum</a></li><li id="lectus-felis-vel_pages_page_11"><a href="/11/lectus-felis-vel/">Lectus Felis Vel</a></li></ul></li><li id="quisque-pretium_pages_page_12"><a href="/12/quisque-pretium/">Quisque Pretium</a><ul><li id="metus-et-orci_pages_page_13"><a href="/13/metus-et-orci/">Metus Et Orci</a></li><li id="lacinia-scelerisque_pages_page_14"><a href="/14/lacinia-scelerisque/">Lacinia Scelerisque</a></li><li id="nunc-nec-justo_pages_page_15"><a href="/15/nunc-nec-justo/">Nunc Nec Justo</a></li></ul></li><li id="nulla-quam-sem_pages_page_16"><a href="/16/nulla-quam-sem/">Nulla Quam Sem</a></li><li id="nunc-at-hendrerit-erat_pages_page_17"><a href="/17/nunc-at-hendrerit-erat/">Nunc at Hendrerit Erat</a></li><li id="maecenas-dapibus_pages_page_18"><a href="/18/maecenas-dapibus/">Maecenas Dapibus</a></li><li id="pellentesque-nibh_pages_page_19"><a href="/19/pellentesque-nibh/">Pellentesque Nibh</a></li></ul></li><li class="sectionlistitem" id="vivamus-gravida-dignissim_pages_page_20"><a class="section" href="/20/vivamus-gravida-dignissim/">Vivamus-Gravida Dignissim</a><ul><li id="curabitur-feugiat_pages_page_21"><a href="/21/curabitur-feugiat/">Curabitur Feugiat</a><ul><li id="laoreet-sed-pellentesque_pages_page_22"><a href="/22/laoreet-sed-pellentesque/">Laoreet Sed Pellentesque</a></li><li id="donec-tempus_pages_page_23"><a href="/23/donec-tempus/">Donec Tempus</a></li><li id="sollicitudin-sapien_pages_page_24"><a href="/24/sollicitudin-sapien/">Sollicitudin Sapien</a></li><li id="ut-convallis_pages_page_25"><a href="/25/ut-convallis/">Ut Convallis</a></li><li id="habitasse_pages_page_26"><a href="/26/habitasse/">Habitasse</a></li></ul></li><li id="congue-vel_pages_page_27"><a href="/27/congue-vel/">Congue Vel</a><ul><li id="nunc-pulvinar-luctus_pages_page_28"><a href="/28/nunc-pulvinar-luctus/">Nunc Pulvinar Luctus</a></li><li id="habitasse-platea_pages_page_29"><a href="/29/habitasse-platea/">Habitasse Platea</a></li></ul></li><li id="phasellus_pages_page_30"><a href="/30/phasellus/">Phasellus</a><ul><li id="nunc-lacinia-eleifend_pages_page_31"><a href="/31/nunc-lacinia-eleifend/">Nunc Lacinia Eleifend</a></li><li id="consectetur-magna_pages_page_32"><a href="/32/consectetur-magna/">Consectetur Magna</a></li><li id="amet-leo-commodo-mattis_pages_page_33"><a href="/33/amet-leo-commodo-mattis/">Amet Leo Commodo-Mattis</a></li><li id="laoreet-est-cursus_pages_page_34"><a href="/34/laoreet-est-cursus/">Laoreet Est Cursus</a></li></ul></li><li id="porttitor-et-interdum_pages_page_35"><a href="/35/porttitor-et-interdum/">Porttitor Et Interdum</a><ul><li id="fusce-a-purus_pages_page_36"><a href="/36/fusce-a-purus/">Fusce a Purus</a></li></ul></li></ul></li><li class="sectionlistitem" id="maecenas-quis_pages_page_37"><a class="section" href="/37/maecenas-quis/">Maecenas Quis</a><ul><li id="nulla-commodo-nisl_pages_page_38"><a href="/38/nulla-commodo-nisl/">Nulla Commodo Nisl</a></li><li id="accumsan-vulputate_pages_page_39"><a href="/39/accumsan-vulputate/">Accumsan Vulputate</a></li><li id="lobortis-rhoncus_pages_page_40"><a href="/40/lobortis-rhoncus/">Lobortis Rhoncus</a></li><li id="purus-ut-gravida-iaculis_pages_page_41"><a href="/41/purus-ut-gravida-iaculis/">Purus Ut Gravida Iaculis</a></li><li id="hendrerit_pages_page_42"><a href="/42/hendrerit/">Hendrerit</a></li></ul></li></ul></li></ul></div>'

Test Yahoo MenuBar navigation rendering.

    >>> mn.mode = "yahoo_menu_bar"
    >>> c = Context(dict(nav_node=Page.objects.get(id=14)))
    >>> mn.render(c)
    '<div class="yuimenubar yuimenubarnav" id="yahoo_menu_bar"><div class="bd"><ul><li class="sectionlistitem currentpathlistitem currentsectionlistitem yuimenubaritem" id="vestibulum-leo_pages_page_2"><a class="section currentpath currentsection" href="/2/vestibulum-leo/">Vestibulum Leo</a><div class="yuimenu"><div class="bd"><ul><li class="yuimenuitem" id="fermentum-viverra_pages_page_3"><a href="/3/fermentum-viverra/">Fermentum Viverra</a></li><li class="yuimenuitem" id="mauris_pages_page_8"><a href="/8/mauris/">Mauris</a></li><li class="currentpathlistitem yuimenuitem" id="quisque-pretium_pages_page_12"><a class="currentpath" href="/12/quisque-pretium/">Quisque Pretium</a></li><li class="yuimenuitem" id="nulla-quam-sem_pages_page_16"><a href="/16/nulla-quam-sem/">Nulla Quam Sem</a></li><li class="yuimenuitem" id="nunc-at-hendrerit-erat_pages_page_17"><a href="/17/nunc-at-hendrerit-erat/">Nunc at Hendrerit Erat</a></li><li class="yuimenuitem" id="maecenas-dapibus_pages_page_18"><a href="/18/maecenas-dapibus/">Maecenas Dapibus</a></li><li class="yuimenuitem" id="pellentesque-nibh_pages_page_19"><a href="/19/pellentesque-nibh/">Pellentesque Nibh</a></li></ul></div></div></li><li class="sectionlistitem yuimenubaritem" id="vivamus-gravida-dignissim_pages_page_20"><a class="section" href="/20/vivamus-gravida-dignissim/">Vivamus-Gravida Dignissim</a><div class="yuimenu"><div class="bd"><ul><li class="yuimenuitem" id="curabitur-feugiat_pages_page_21"><a href="/21/curabitur-feugiat/">Curabitur Feugiat</a></li><li class="yuimenuitem" id="congue-vel_pages_page_27"><a href="/27/congue-vel/">Congue Vel</a></li><li class="yuimenuitem" id="phasellus_pages_page_30"><a href="/30/phasellus/">Phasellus</a></li><li class="yuimenuitem" id="porttitor-et-interdum_pages_page_35"><a href="/35/porttitor-et-interdum/">Porttitor Et Interdum</a></li></ul></div></div></li><li class="sectionlistitem yuimenubaritem" id="maecenas-quis_pages_page_37"><a class="section" href="/37/maecenas-quis/">Maecenas Quis</a><div class="yuimenu"><div class="bd"><ul><li class="yuimenuitem" id="nulla-commodo-nisl_pages_page_38"><a href="/38/nulla-commodo-nisl/">Nulla Commodo Nisl</a></li><li class="yuimenuitem" id="accumsan-vulputate_pages_page_39"><a href="/39/accumsan-vulputate/">Accumsan Vulputate</a></li><li class="yuimenuitem" id="lobortis-rhoncus_pages_page_40"><a href="/40/lobortis-rhoncus/">Lobortis Rhoncus</a></li><li class="yuimenuitem" id="purus-ut-gravida-iaculis_pages_page_41"><a href="/41/purus-ut-gravida-iaculis/">Purus Ut Gravida Iaculis</a></li><li class="yuimenuitem" id="hendrerit_pages_page_42"><a href="/42/hendrerit/">Hendrerit</a></li></ul></div></div></li></ul></div></div>'
    >>> c = Context(dict(nav_node=Page.objects.get(id=12)))
    >>> mn.render(c)
    '<div class="yuimenubar yuimenubarnav" id="yahoo_menu_bar"><div class="bd"><ul><li class="sectionlistitem currentpathlistitem currentsectionlistitem yuimenubaritem" id="vestibulum-leo_pages_page_2"><a class="section currentpath currentsection" href="/2/vestibulum-leo/">Vestibulum Leo</a><div class="yuimenu"><div class="bd"><ul><li class="yuimenuitem" id="fermentum-viverra_pages_page_3"><a href="/3/fermentum-viverra/">Fermentum Viverra</a></li><li class="yuimenuitem" id="mauris_pages_page_8"><a href="/8/mauris/">Mauris</a></li><li class="currentpathlistitem currentpagelistitem yuimenuitem" id="quisque-pretium_pages_page_12"><a class="currentpath currentpage" href="/12/quisque-pretium/">Quisque Pretium</a></li><li class="yuimenuitem" id="nulla-quam-sem_pages_page_16"><a href="/16/nulla-quam-sem/">Nulla Quam Sem</a></li><li class="yuimenuitem" id="nunc-at-hendrerit-erat_pages_page_17"><a href="/17/nunc-at-hendrerit-erat/">Nunc at Hendrerit Erat</a></li><li class="yuimenuitem" id="maecenas-dapibus_pages_page_18"><a href="/18/maecenas-dapibus/">Maecenas Dapibus</a></li><li class="yuimenuitem" id="pellentesque-nibh_pages_page_19"><a href="/19/pellentesque-nibh/">Pellentesque Nibh</a></li></ul></div></div></li><li class="sectionlistitem yuimenubaritem" id="vivamus-gravida-dignissim_pages_page_20"><a class="section" href="/20/vivamus-gravida-dignissim/">Vivamus-Gravida Dignissim</a><div class="yuimenu"><div class="bd"><ul><li class="yuimenuitem" id="curabitur-feugiat_pages_page_21"><a href="/21/curabitur-feugiat/">Curabitur Feugiat</a></li><li class="yuimenuitem" id="congue-vel_pages_page_27"><a href="/27/congue-vel/">Congue Vel</a></li><li class="yuimenuitem" id="phasellus_pages_page_30"><a href="/30/phasellus/">Phasellus</a></li><li class="yuimenuitem" id="porttitor-et-interdum_pages_page_35"><a href="/35/porttitor-et-interdum/">Porttitor Et Interdum</a></li></ul></div></div></li><li class="sectionlistitem yuimenubaritem" id="maecenas-quis_pages_page_37"><a class="section" href="/37/maecenas-quis/">Maecenas Quis</a><div class="yuimenu"><div class="bd"><ul><li class="yuimenuitem" id="nulla-commodo-nisl_pages_page_38"><a href="/38/nulla-commodo-nisl/">Nulla Commodo Nisl</a></li><li class="yuimenuitem" id="accumsan-vulputate_pages_page_39"><a href="/39/accumsan-vulputate/">Accumsan Vulputate</a></li><li class="yuimenuitem" id="lobortis-rhoncus_pages_page_40"><a href="/40/lobortis-rhoncus/">Lobortis Rhoncus</a></li><li class="yuimenuitem" id="purus-ut-gravida-iaculis_pages_page_41"><a href="/41/purus-ut-gravida-iaculis/">Purus Ut Gravida Iaculis</a></li><li class="yuimenuitem" id="hendrerit_pages_page_42"><a href="/42/hendrerit/">Hendrerit</a></li></ul></div></div></li></ul></div></div>'
    >>> c = Context(dict(nav_node=Page.objects.get(id=1)))
    >>> mn.render(c)
    '<div class="yuimenubar yuimenubarnav" id="yahoo_menu_bar"><div class="bd"><ul><li class="sectionlistitem yuimenubaritem" id="vestibulum-leo_pages_page_2"><a class="section" href="/2/vestibulum-leo/">Vestibulum Leo</a><div class="yuimenu"><div class="bd"><ul><li class="yuimenuitem" id="fermentum-viverra_pages_page_3"><a href="/3/fermentum-viverra/">Fermentum Viverra</a></li><li class="yuimenuitem" id="mauris_pages_page_8"><a href="/8/mauris/">Mauris</a></li><li class="yuimenuitem" id="quisque-pretium_pages_page_12"><a href="/12/quisque-pretium/">Quisque Pretium</a></li><li class="yuimenuitem" id="nulla-quam-sem_pages_page_16"><a href="/16/nulla-quam-sem/">Nulla Quam Sem</a></li><li class="yuimenuitem" id="nunc-at-hendrerit-erat_pages_page_17"><a href="/17/nunc-at-hendrerit-erat/">Nunc at Hendrerit Erat</a></li><li class="yuimenuitem" id="maecenas-dapibus_pages_page_18"><a href="/18/maecenas-dapibus/">Maecenas Dapibus</a></li><li class="yuimenuitem" id="pellentesque-nibh_pages_page_19"><a href="/19/pellentesque-nibh/">Pellentesque Nibh</a></li></ul></div></div></li><li class="sectionlistitem yuimenubaritem" id="vivamus-gravida-dignissim_pages_page_20"><a class="section" href="/20/vivamus-gravida-dignissim/">Vivamus-Gravida Dignissim</a><div class="yuimenu"><div class="bd"><ul><li class="yuimenuitem" id="curabitur-feugiat_pages_page_21"><a href="/21/curabitur-feugiat/">Curabitur Feugiat</a></li><li class="yuimenuitem" id="congue-vel_pages_page_27"><a href="/27/congue-vel/">Congue Vel</a></li><li class="yuimenuitem" id="phasellus_pages_page_30"><a href="/30/phasellus/">Phasellus</a></li><li class="yuimenuitem" id="porttitor-et-interdum_pages_page_35"><a href="/35/porttitor-et-interdum/">Porttitor Et Interdum</a></li></ul></div></div></li><li class="sectionlistitem yuimenubaritem" id="maecenas-quis_pages_page_37"><a class="section" href="/37/maecenas-quis/">Maecenas Quis</a><div class="yuimenu"><div class="bd"><ul><li class="yuimenuitem" id="nulla-commodo-nisl_pages_page_38"><a href="/38/nulla-commodo-nisl/">Nulla Commodo Nisl</a></li><li class="yuimenuitem" id="accumsan-vulputate_pages_page_39"><a href="/39/accumsan-vulputate/">Accumsan Vulputate</a></li><li class="yuimenuitem" id="lobortis-rhoncus_pages_page_40"><a href="/40/lobortis-rhoncus/">Lobortis Rhoncus</a></li><li class="yuimenuitem" id="purus-ut-gravida-iaculis_pages_page_41"><a href="/41/purus-ut-gravida-iaculis/">Purus Ut Gravida Iaculis</a></li><li class="yuimenuitem" id="hendrerit_pages_page_42"><a href="/42/hendrerit/">Hendrerit</a></li></ul></div></div></li></ul></div></div>'

"""}

__test__['SITEMAP_IMPORT_TESTS'] = """

Testing import of sitemap YAML.

    >>> import os.path
    >>> import elementtree.ElementTree as et
    >>> from pages import settings
    >>> from pages.models import Page
    >>> from pages.management.commands.sitemap import Command as SitemapCommand
    >>> sc = SitemapCommand()
    >>> yaml_text = open(os.path.join(settings.CURDIR, "fixtures", "sitemap.yml")).read()
    >>> tree = sc.parse_sitemap(yaml_text)
    >>> et.tostring(tree.getroot())
    '<menus><menu name="navigation" title="Navigation"><node contenttype="pages_page" href="/1/home/" name="home" objectid="1" title="Home"><node contenttype="pages_page" href="/2/vestibulum-leo/" name="vestibulum-leo" objectid="2" title="Vestibulum Leo"><node contenttype="pages_page" href="/3/fermentum-viverra/" name="fermentum-viverra" objectid="3" title="Fermentum Viverra"><node contenttype="pages_page" href="/4/aliquam-interdum/" name="aliquam-interdum" objectid="4" title="Aliquam Interdum" /><node contenttype="pages_page" href="/5/phasellus-at-nisl/" name="phasellus-at-nisl" objectid="5" title="Phasellus at Nisl" /><node contenttype="pages_page" href="/6/duis-faucibus/" name="duis-faucibus" objectid="6" title="Duis Faucibus" /><node contenttype="pages_page" href="/7/ornare-ultrices-turpis/" name="ornare-ultrices-turpis" objectid="7" title="Ornare Ultrices Turpis" /></node><node contenttype="pages_page" href="/8/mauris/" name="mauris" objectid="8" title="Mauris"><node contenttype="pages_page" href="/9/sodales-vel-viverra/" name="sodales-vel-viverra" objectid="9" title="Sodales Vel Viverra" /><node contenttype="pages_page" href="/10/elementum/" name="elementum" objectid="10" title="Elementum" /><node contenttype="pages_page" href="/11/lectus-felis-vel/" name="lectus-felis-vel" objectid="11" title="Lectus Felis Vel" /></node><node contenttype="pages_page" href="/12/quisque-pretium/" name="quisque-pretium" objectid="12" title="Quisque Pretium"><node contenttype="pages_page" href="/13/metus-et-orci/" name="metus-et-orci" objectid="13" title="Metus Et Orci" /><node contenttype="pages_page" href="/14/lacinia-scelerisque/" name="lacinia-scelerisque" objectid="14" title="Lacinia Scelerisque" /><node contenttype="pages_page" href="/15/nunc-nec-justo/" name="nunc-nec-justo" objectid="15" title="Nunc Nec Justo" /></node><node contenttype="pages_page" href="/16/nulla-quam-sem/" name="nulla-quam-sem" objectid="16" title="Nulla Quam Sem" /><node contenttype="pages_page" href="/17/nunc-at-hendrerit-erat/" name="nunc-at-hendrerit-erat" objectid="17" title="Nunc at Hendrerit Erat" /><node contenttype="pages_page" href="/18/maecenas-dapibus/" name="maecenas-dapibus" objectid="18" title="Maecenas Dapibus" /><node contenttype="pages_page" href="/19/pellentesque-nibh/" name="pellentesque-nibh" objectid="19" title="Pellentesque Nibh" /></node><node contenttype="pages_page" href="/20/vivamus-gravida-dignissim/" name="vivamus-gravida-dignissim" objectid="20" title="Vivamus-Gravida Dignissim"><node contenttype="pages_page" href="/21/curabitur-feugiat/" name="curabitur-feugiat" objectid="21" title="Curabitur Feugiat"><node contenttype="pages_page" href="/22/laoreet-sed-pellentesque/" name="laoreet-sed-pellentesque" objectid="22" title="Laoreet Sed Pellentesque" /><node contenttype="pages_page" href="/23/donec-tempus/" name="donec-tempus" objectid="23" title="Donec Tempus" /><node contenttype="pages_page" href="/24/sollicitudin-sapien/" name="sollicitudin-sapien" objectid="24" title="Sollicitudin Sapien" /><node contenttype="pages_page" href="/25/ut-convallis/" name="ut-convallis" objectid="25" title="Ut Convallis" /><node contenttype="pages_page" href="/26/habitasse/" name="habitasse" objectid="26" title="Habitasse" /></node><node contenttype="pages_page" href="/27/congue-vel/" name="congue-vel" objectid="27" title="Congue Vel"><node contenttype="pages_page" href="/28/nunc-pulvinar-luctus/" name="nunc-pulvinar-luctus" objectid="28" title="Nunc Pulvinar Luctus" /><node contenttype="pages_page" href="/29/habitasse-platea/" name="habitasse-platea" objectid="29" title="Habitasse Platea" /></node><node contenttype="pages_page" href="/30/phasellus/" name="phasellus" objectid="30" title="Phasellus"><node contenttype="pages_page" href="/31/nunc-lacinia-eleifend/" name="nunc-lacinia-eleifend" objectid="31" title="Nunc Lacinia Eleifend" /><node contenttype="pages_page" href="/32/consectetur-magna/" name="consectetur-magna" objectid="32" title="Consectetur Magna" /><node contenttype="pages_page" href="/33/amet-leo-commodo-mattis/" name="amet-leo-commodo-mattis" objectid="33" title="Amet Leo Commodo-Mattis" /><node contenttype="pages_page" href="/34/laoreet-est-cursus/" name="laoreet-est-cursus" objectid="34" title="Laoreet Est Cursus" /></node><node contenttype="pages_page" href="/35/porttitor-et-interdum/" name="porttitor-et-interdum" objectid="35" title="Porttitor Et Interdum"><node contenttype="pages_page" href="/36/fusce-a-purus/" name="fusce-a-purus" objectid="36" title="Fusce a Purus" /></node></node><node contenttype="pages_page" href="/37/maecenas-quis/" name="maecenas-quis" objectid="37" title="Maecenas Quis"><node contenttype="pages_page" href="/38/nulla-commodo-nisl/" name="nulla-commodo-nisl" objectid="38" title="Nulla Commodo Nisl" /><node contenttype="pages_page" href="/39/accumsan-vulputate/" name="accumsan-vulputate" objectid="39" title="Accumsan Vulputate" /><node contenttype="pages_page" href="/40/lobortis-rhoncus/" name="lobortis-rhoncus" objectid="40" title="Lobortis Rhoncus" /><node contenttype="pages_page" href="/41/purus-ut-gravida-iaculis/" name="purus-ut-gravida-iaculis" objectid="41" title="Purus Ut Gravida Iaculis" /><node contenttype="pages_page" href="/42/hendrerit/" name="hendrerit" objectid="42" title="Hendrerit" /></node></node></menu><menu name="not_in_navigation" title="Not In Navigation"><node contenttype="pages_page" href="/43/faucibus-sodales-ornare/" name="faucibus-sodales-ornare" objectid="43" title="Faucibus Sodales Ornare"><node contenttype="pages_page" href="/44/sodales/" name="sodales" objectid="44" title="Sodales" /><node contenttype="pages_page" href="/45/curabitur-tempor-lobortis/" name="curabitur-tempor-lobortis" objectid="45" title="Curabitur Tempor Lobortis"><node contenttype="pages_page" href="/46/donec-fermentum/" name="donec-fermentum" objectid="46" title="Donec Fermentum" /></node><node contenttype="pages_page" href="/47/dolor-bibendum/" name="dolor-bibendum" objectid="47" title="Dolor Bibendum" /><node contenttype="pages_page" href="/48/consectetur-tellus/" name="consectetur-tellus" objectid="48" title="Consectetur Tellus" /><node contenttype="pages_page" href="/49/pellentesque/" name="pellentesque" objectid="49" title="Pellentesque" /></node></menu></menus>'
    >>> Page.objects.get(id=1).title
    u'Home'
    >>> Page.objects.get(id=2).title
    u'Vestibulum Leo'
    >>> Page.objects.get(id=3).title
    u'Fermentum Viverra'
    >>> Page.objects.get(id=4).title
    u'Aliquam Interdum'
    >>> Page.objects.get(id=5).title
    u'Phasellus at Nisl'
    >>> Page.objects.get(id=6).title
    u'Duis Faucibus'
    >>> Page.objects.get(id=7).title
    u'Ornare Ultrices Turpis'
"""